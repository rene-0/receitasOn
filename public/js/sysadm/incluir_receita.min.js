function validarTitulo(){var titulo=document.getElementById("titulo");return""==titulo.value.trim()?(invalido(titulo,"Titulo não pode ser vazio"),!1):titulo.value.trim().length>150?(invalido(titulo,"Titulo deve ser menor ou igual a 150 caracteres"),!1):titulo.value.trim().length<4?(invalido(titulo,"Titulo deve ser maior que 3 caracteres"),!1):(valido(titulo),!0)}function validarTempPreparo(){var temp_preparo=document.getElementById("preparo");return""==temp_preparo.value.trim()?(invalido(temp_preparo,"Tempo de preparo não pode ser vazio"),!1):temp_preparo.value.trim().length>50?(invalido(temp_preparo,"Tempo de preparo deve ser menor ou igual a 50 caracteres"),!1):(valido(temp_preparo),!0)}function validarRendimento(){var rendimento=document.getElementById("rendimento");return""==rendimento.value.trim()?(invalido(rendimento,"Rendimento não pode ser vazio"),!1):rendimento.value.trim().length>50?(invalido(rendimento,"Rendimento deve ser menor ou igual a 50 caracteres"),!1):(valido(rendimento),!0)}function validarFotos(){var target;if(foto=document.getElementsByName("fotos[]")[0],""==foto.value.trim())return(target=document.getElementById("fotos")).parentNode.getElementsByTagName("small")[0].innerHTML="Deve ser selecionado no minimo uma foto",target.classList.remove("valido"),target.setAttribute("class","invalido"),!1;if(validarExt()){var target,target;if(!(foto.files[0].size>15e6))return(target=document.getElementById("fotos")).parentNode.getElementsByTagName("small")[0].innerHTML="",target.classList.remove("invalido"),target.setAttribute("class","valido"),!0;(target=document.getElementById("fotos")).parentNode.getElementsByTagName("small")[0].innerHTML="Foto não pode ser maior que 15mbs",target.classList.remove("valido"),target.setAttribute("class","invalido")}else{var target;(target=document.getElementById("fotos")).parentNode.getElementsByTagName("small")[0].innerHTML="Foto deve ser de extenção .jpg, .jpeg ou .png",target.classList.remove("valido"),target.setAttribute("class","invalido")}}function validarExt(){for(var fotos=document.getElementsByName("fotos[]"),i=0;i<fotos.length;i++){var caminho_foto=fotos[0].value,ext=caminho_foto.substr(caminho_foto.lastIndexOf("."));return console.log(ext),".png"==ext||".jpg"==ext||".jpeg"==ext}}function validarIngredientes(){for(var ret,ingredientes=document.getElementsByName("ingrediente[]"),i=0;i<ingredientes.length;i++)""==ingredientes[i].value.trim()?(document.getElementById("ingredientes-container").parentNode.getElementsByTagName("small")[0].innerHTML="Ingrediente não pode ser vazio",ingredientes[i].classList.remove("valido"),ingredientes[i].setAttribute("class","invalido"),ret=!1):ingredientes[i].value.trim().length>255?(document.getElementById("ingredientes-container").parentNode.getElementsByTagName("small")[0].innerHTML="Ingrediente não pode ser maio que 255 caracteres",ingredientes[i].classList.remove("valido"),ingredientes[i].setAttribute("class","invalido"),ret=!1):(ingredientes[i].classList.remove("invalido"),ingredientes[i].setAttribute("class","valido"),0!=ret&&(ret=!0,document.getElementById("ingredientes-container").parentNode.getElementsByTagName("small")[0].innerHTML=""));return ret}function validarPreparo(){for(var ret,preparo=document.getElementsByName("preparo[]"),i=0;i<preparo.length;i++)""==preparo[i].value.trim()?(document.getElementById("preparo-container").parentNode.getElementsByTagName("small")[0].innerHTML="Preparo não pode ser vazio",preparo[i].classList.remove("valido"),preparo[i].setAttribute("class","invalido"),ret=!1):preparo[i].value.trim().length>255?(document.getElementById("preparo-container").parentNode.getElementsByTagName("small")[0].innerHTML="Preparo não pode ser maio que 255 caracteres",preparo[i].classList.remove("valido"),preparo[i].setAttribute("class","invalido"),ret=!1):(preparo[i].classList.remove("invalido"),preparo[i].setAttribute("class","valido"),0!=ret&&(document.getElementById("preparo-container").parentNode.getElementsByTagName("small")[0].innerHTML="",ret=!0));return ret}function invalido(input,text){var target;input.parentNode.getElementsByTagName("small")[0].innerHTML=text,input.classList.remove("valido"),input.setAttribute("class","invalido")}function valido(input){var target;input.parentNode.getElementsByTagName("small")[0].innerHTML="",input.classList.remove("invalido"),input.setAttribute("class","valido")}function imageDemo(input){var container_foto=input.parentNode.parentNode;if(""==input.value)container_foto.getElementsByTagName("img")[0].parentNode.removeChild(container_foto.getElementsByTagName("img")[0]);else{var file=input.files[0];if("image/png"==file.type||"image/jpg"==file.type||"image/jpeg"==file.type){var reader=new FileReader;reader.addEventListener("load",(function(){var img=document.createElement("img");img.setAttribute("src",this.result),img.setAttribute("class","inner-img"),input.parentNode.parentNode.getElementsByClassName("imagem")[0].appendChild(img)})),reader.readAsDataURL(file),adicionarImagem()}null!=input.parentNode.parentNode.getElementsByTagName("i")[0]&&(container_foto.getElementsByTagName("i")[0].setAttribute("onclick","deletarImagem(this)"),container_foto.getElementsByTagName("i")[0].classList.remove("disabled"))}}function adicionarImagem(){var container=document.getElementById("fotos"),foto=document.createElement("div");foto.setAttribute("class","foto");var imagem=document.createElement("div");imagem.setAttribute("class","imagem"),foto.appendChild(imagem);var input=document.createElement("div");input.setAttribute("class","input"),input.addEventListener("input",validarFotos);var file=document.createElement("input");file.setAttribute("onchange","imageDemo(this)"),file.setAttribute("type","file"),file.setAttribute("name","fotos[]"),input.appendChild(file),foto.appendChild(input);var i=document.createElement("i");i.setAttribute("class","fas fa-times"),i.classList.add("disabled"),foto.appendChild(i),container.appendChild(foto)}function deletarImagem(target){target.parentNode.parentNode.removeChild(target.parentNode)}function adicionaIngrediente(){var container=document.getElementById("ingredientes-container"),div=document.createElement("div");div.setAttribute("class","ingrediente");var input=document.createElement("input");input.setAttribute("type","text"),input.setAttribute("name","ingrediente[]"),input.addEventListener("input",validarIngredientes);var i=document.createElement("i");i.setAttribute("class","fas fa-times");var button=document.createElement("button");button.setAttribute("onclick","deletarItem(this)"),button.setAttribute("type","button"),div.appendChild(input),button.appendChild(i),div.appendChild(button),container.appendChild(div)}function adicionaPreparo(){var container=document.getElementById("preparo-container"),div=document.createElement("div");div.setAttribute("class","preparo");var item=document.createElement("div");item.setAttribute("class","item"),item.textContent=document.getElementsByClassName("item").length+1,div.appendChild(item);var input=document.createElement("input");input.setAttribute("type","text"),input.setAttribute("name","preparo[]"),input.addEventListener("input",validarPreparo);var i=document.createElement("i");i.setAttribute("class","fas fa-times");var button=document.createElement("button");button.setAttribute("onclick","deletarItem(this)"),button.setAttribute("type","button"),div.appendChild(input),button.appendChild(i),div.appendChild(button),container.appendChild(div)}function deletarItem(alvo){alvo.parentNode.remove()}$(document).ready((function(){var quill;new Quill("#editor",{theme:"snow"}).on("text-change",(function(){console.log($(".ql-editor").html()),document.getElementById("desc").value=$(".ql-editor").html()})),document.getElementById("add-ingredientes").addEventListener("click",adicionaIngrediente),document.getElementById("add-preparo").addEventListener("click",adicionaPreparo);var form=document.getElementById("form"),titulo,temp_preparo,rendimento,fotos;document.getElementById("titulo").addEventListener("input",validarTitulo),document.getElementById("preparo").addEventListener("input",validarTempPreparo),document.getElementById("rendimento").addEventListener("input",validarRendimento),document.getElementsByName("fotos[]")[0].addEventListener("input",validarFotos);var ingredientes=document.getElementsByName("ingrediente[]");ingredientes[0].addEventListener("input",validarIngredientes),ingredientes[1].addEventListener("input",validarIngredientes);var preparo=document.getElementsByName("preparo[]");preparo[0].addEventListener("input",validarPreparo),preparo[1].addEventListener("input",validarPreparo),form.addEventListener("submit",(function(e){validarTitulo()&&validarTempPreparo()&&validarRendimento()&&validarFotos()&&validarIngredientes()&&validarPreparo()?(form.submit(),console.log("Validado")):(e.preventDefault(),console.log("Inválido")),console.log("Enviou")}))}));